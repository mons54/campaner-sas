<form ng-show="!success && !error"
      class="form form-validate" 
      ng-submit="submit()" 
      name="bilanForm" 
      novalidate="novalidate">
    <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
        <h1>Demande d'étude et de bilan gratuits</h1>
        <div ng-show="success">
            <p class="app__success"><strong>Votre demande de bilan a bien été envoyé.</strong></p>
            <p>Nous vous répondrons dans les plus brefs délais.</p>
        </div>
        <div ng-show="error">
            <p class="app__warning"><strong>Une erreur est survenue.</strong></p>
            <p>Merci de réessayer ultérieurement ou de nous contacter directement par mail.</p>
        </div>
        <div class="app-loader" ng-class="{'app-loader--hide': !loading }">
            <div class="mdl-spinner mdl-js-spinner"></div>
        </div>
        <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-tablet">
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" 
                       type="text" 
                       pattern="^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$"
                       name="name"
                       ng-model="formData.name"
                       required>
                <label class="app-textfield__label mdl-textfield__label">Nom</label>
                <span class="app-textfield__error mdl-textfield__error">Veuillez saisir un nom valide.</span>
            </div>
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" 
                       type="email"
                       name="email"
                       ng-model="formData.email" 
                       required>
                <label class="app-textfield__label mdl-textfield__label">Email</label>
                <span class="app-textfield__error mdl-textfield__error">Veuillez saisir un email valide.</span>
            </div>
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" 
                       type="text" 
                       pattern="^(?:0|\(?\+33\)?\s?|0033\s?)[1-79](?:[\.\-\s]?\d\d){4}$"
                       name="phone"
                       ng-model="formData.phone" 
                       required>
                <label class="app-textfield__label mdl-textfield__label">Téléphone</label>
                <span class="app-textfield__error mdl-textfield__error">Veuillez saisir un numéro valide.</span>
            </div>
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" 
                       type="text" 
                       minlength="3"
                       name="address"
                       ng-model="formData.address" 
                       required>
                <label class="app-textfield__label mdl-textfield__label">Adresse</label>
                <span class="app-textfield__error mdl-textfield__error">Veuillez saisir un adresse valide.</span>
            </div>
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" 
                       type="text"
                       pattern="^[0-9]{5}$"
                       name="zip"
                       ng-model="formData.zip" 
                       required>
                <label class="app-textfield__label mdl-textfield__label">Code postal</label>
                <span class="app-textfield__error mdl-textfield__error">Veuillez saisir un code postal valide.</span>
            </div>
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" 
                       type="text"
                       minlength="2" 
                       name="town"
                       ng-model="formData.town" 
                       required>
                <label class="app-textfield__label mdl-textfield__label">Ville</label>
                <span class="app-textfield__error mdl-textfield__error">Veuillez saisir une ville valide.</span>
            </div>
        </div>
        <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-tablet">
            <p>Souhaite une étude et un bilan gratuits:</p>
            <ul class="mdl-list">
                <li class="mdl-list__item">
                    <span class="mdl-list__item-primary-action">
                        <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="list-checkbox-thermal">
                            <input type="checkbox" 
                                   id="list-checkbox-thermal" 
                                   class="mdl-checkbox__input"
                                   ng-model="formData.works.thermal">
                        </label>
                    </span>
                    <span class="mdl-list__item-secondary-content">
                        Thermique
                    </span>
                </li>
                <li class="mdl-list__item">
                    <span class="mdl-list__item-primary-action">
                        <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="list-checkbox-cleaning">
                            <input type="checkbox" 
                                   id="list-checkbox-cleaning" 
                                   class="mdl-checkbox__input"
                                   ng-model="formData.works.cleaning">
                        </label>
                    </span>
                    <span class="mdl-list__item-secondary-content">
                        Assainissement
                    </span>
                </li>
                <li class="mdl-list__item">
                    <span class="mdl-list__item-primary-action">
                        <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="list-checkbox-humidity">
                            <input type="checkbox" 
                                   id="list-checkbox-humidity" 
                                   class="mdl-checkbox__input"
                                   ng-model="formData.works.humidity">
                        </label>
                    </span>
                    <span class="mdl-list__item-secondary-content">
                        Humidité
                    </span>
                </li>
                <li class="mdl-list__item">
                    <span class="mdl-list__item-primary-action">
                        <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="list-checkbox-facade">
                            <input type="checkbox" 
                                   id="list-checkbox-facade" 
                                   class="mdl-checkbox__input"
                                   ng-model="formData.works.facade">
                        </label>
                    </span>
                    <span class="mdl-list__item-secondary-content">
                        Façade
                    </span>
                </li>
                <li class="mdl-list__item">
                    <span class="mdl-list__item-primary-action">
                        <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="list-checkbox-roofing">
                            <input type="checkbox" 
                                   id="list-checkbox-roofing" 
                                   class="mdl-checkbox__input"
                                   ng-model="formData.works.roofing">
                        </label>
                    </span>
                    <span class="mdl-list__item-secondary-content">
                        Couverture
                    </span>
                </li>
            </ul>
        </div>
        <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-tablet">
            <p>Rendez-vous:</p>
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" 
                       type="text" 
                       pattern="^(0([1-9]{1})|([1-2]{1}[0-9]{1})|30|31)/((0([1-9]{1}))|(1([0-2]{1})))/[0-9]{4}$"
                       name="date"
                       ng-model="formData.date">
                <label class="app-textfield__label mdl-textfield__label">Date souhaitée</label>
                <span class="app-textfield__error mdl-textfield__error">Veuillez saisir une date valide (jj/mm/aaaa).</span>
            </div>
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" 
                       type="text" 
                       pattern="^(((0|1)?[0-9])|(2[0-3]{1}))(h|H)?(:?[0-5]{1}[0-9]{1})?$"
                       name="hour"
                       ng-model="formData.hour">
                <label class="app-textfield__label mdl-textfield__label">Heure souhaitée</label>
                <span class="app-textfield__error mdl-textfield__error">Veuillez saisir une heure valide (hh:mm).</span>
            </div>
            <div class="app-textfield mdl-textfield mdl-js-textfield">
                <textarea class="mdl-textfield__input" 
                          type="text"
                          rows="8"
                          name="message"
                          ng-model="formData.message">
                </textarea>
                <label class="app-textfield__label mdl-textfield__label">Commentaire (optionel)</label>
            </div>
        </div>
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" type="submit">Envoyer</button>
    </div>
</form>
